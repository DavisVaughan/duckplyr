---
output: downlit::readme_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)

pkgload::load_all()
```

# duckplyr

<!-- badges: start -->
<!-- badges: end -->

The goal of duckplyr is to define a set of generics that provide a low-level implementer's interface for dplyr's high-level user interface.

## Installation

You can install the development version of duckplyr from [GitHub](https://github.com/) with:

``` r
# install.packages("pak", repos = sprintf("https://r-lib.github.io/p/pak/stable/%s/%s/%s", .Platform$pkgType, R.Version()$os, R.Version()$arch))
pak::pak("krlmlr/duckplyr")
```

## Example

This package only provides generics, for which other packages may then implement methods.

```{r example}
library(duckplyr)

rel_to_df.dfrel <- function(rel, ...) {
 unclass(rel)[[1]]
}

rel_limit.dfrel <- function(rel, n, ...) {
  new_relational(
    list(head(unclass(rel)[[1]], n)),
    class = "dfrel"
  )
}

mtcars_rel <- new_relational(list(mtcars), class = "dfrel")
mtcars_rel |>
  rel_limit(5) |>
  rel_to_df()
```
